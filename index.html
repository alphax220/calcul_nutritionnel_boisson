<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Calculateur Nutritionnel - Boissons & Nectars</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>Calculateur Nutritionnel - Boissons & Nectars</h1>
    <p>Conforme au <strong>Codex Alimentarius CXG 2-1985</strong> et <strong>CXS 247-2005</strong></p>
    <button class="btn btn-add" onclick="window.location.href='VueStock/index.html' "  ><a href="VueStock/index.html" >VIEWSTOCK</a></button>
    <!-- RECETTE GÉNÉRALE -->
    <div class="section">
      <h2>Recette Finale</h2>
      <div class="form-grid">
        <div>
          <label>Volume total (ml) :</label>
          <input type="number" id="total-volume" value="1000" min="1">
        </div>
        <div>
          <label>Type de produit :</label>
          <select id="product-type">
            <option value="boisson">Boisson sucrée</option>
            <option value="nectar">Nectar de fruit</option>
            <option value="jus">Jus de fruit 100%</option>
          </select>
        </div>
      </div>

      <h3>Paramètres Physico-Chimiques (Recette Finale)</h3>
      <div class="form-grid">
        <div><label>Brix (°Brix) :</label><input type="number" step="0.1" id="final-brix" value="12"></div>
        <div><label>Acidité (% ac. citrique) :</label><input type="number" step="0.01" id="final-acidite" value="0.3"></div>
        <div><label>pH :</label><input type="number" step="0.01" id="final-ph" value="3.8"></div>
        <div><label>Densité (g/ml) :</label><input type="number" step="0.001" id="final-densite" value="1.05"></div>
      </div>
    </div>

    <!-- INGRÉDIENTS -->
    <div class="section">
      <h2>Ingrédients</h2>
      <table id="ingredients-table">
        <thead>
          <tr>
            <th>Nom</th>
            <th>Qté (g/ml)</th>
            <th>Brix</th>
            <th>Énergie<br>(kcal/100g)</th>
            <th>Protéines<br>(g/100g)</th>
            <th>Glucides<br>(g/100g)</th>
            <th>Sucres<br>(g/100g)</th>
            <th>Lipides<br>(g/100g)</th>
            <th>Sodium<br>(mg/100g)</th>
            <th>Fibres<br>(g/100g)</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><input type="text" value="Eau"></td>
            <td><input type="number" value="850"></td>
            <td><input type="number" value="0" step="0.1"></td>
            <td><input type="number" value="0"></td>
            <td><input type="number" value="0"></td>
            <td><input type="number" value="0"></td>
            <td><input type="number" value="0"></td>
            <td><input type="number" value="0"></td>
            <td><input type="number" value="0"></td>
            <td><input type="number" value="0"></td>
            <td><button class="btn btn-remove" onclick="removeRow(this)">Supprimer</button></td>
          </tr>
          <tr>
            <td><input type="text" value="Concentré Orange 65°Brix"></td>
            <td><input type="number" value="120"></td>
            <td><input type="number" value="65"></td>
            <td><input type="number" value="260"></td>
            <td><input type="number" value="3"></td>
            <td><input type="number" value="60"></td>
            <td><input type="number" value="55"></td>
            <td><input type="number" value="0"></td>
            <td><input type="number" value="10"></td>
            <td><input type="number" value="2"></td>
            <td><button class="btn btn-remove" onclick="removeRow(this)">Supprimer</button></td>
          </tr>
          <tr>
            <td><input type="text" value="Sucre"></td>
            <td><input type="number" value="100"></td>
            <td><input type="number" value="100"></td>
            <td><input type="number" value="387"></td>
            <td><input type="number" value="0"></td>
            <td><input type="number" value="100"></td>
            <td><input type="number" value="100"></td>
            <td><input type="number" value="0"></td>
            <td><input type="number" value="0"></td>
            <td><input type="number" value="0"></td>
            <td><button class="btn btn-remove" onclick="removeRow(this)">Supprimer</button></td>
          </tr>
        </tbody>
      </table>
      <button class="btn btn-add" onclick="addRow()">Ajouter Ingrédient</button>
    </div>

    <!-- ACTIONS -->
    <div class="section">
      <button class="btn btn-calc" onclick="calculate()">Calculer l'Étiquette</button>
      <button class="btn btn-print" onclick="window.print()">Imprimer / PDF</button>
    </div>

    <!-- RÉSULTATS -->
    <div id="results" class="section hidden">
      <h2>Étiquette Nutritionnelle (par 100 ml)</h2>
      <div id="nutrition-label">
        <table style="width:100%; font-size: 14px;">
          <tr><th colspan="2" class="big">Valeurs nutritionnelles</th></tr>
          <tr><td>Valeur énergétique</td><td id="energy" class="big"></td></tr>
          <tr><td>Lipides</td><td id="fats"></td></tr>
          <tr><td class="sub">dont acides gras saturés</td><td id="satFats"></td></tr>
          <tr><td>Glucides</td><td id="carbs"></td></tr>
          <tr><td class="sub">dont sucres</td><td id="sugars"></td></tr>
          <tr><td>Protéines</td><td id="proteins"></td></tr>
          <tr><td>Sel</td><td id="salt"></td></tr>
          <tr><td>Fibres alimentaires</td><td id="fibers"></td></tr>
        </table>
        <p style="margin-top:15px; font-size:12px;">
          * Valeurs calculées selon Codex CXG 2-1985<br>
          <span id="brix-estimate"></span>
        </p>
      </div>
    </div>
  </div>
  <script src="script.js"></script>
</body>
</html>